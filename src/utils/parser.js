export function parseDSL(dsl){ const items=[]; const lines=String(dsl||"").split(/\r?\n/).map(l=>l.trim()).filter(Boolean); for(const line of lines){ const [type,sx,sy,...rest]=line.split(/\s+/); const x=Number(sx), y=Number(sy); if(!type||Number.isNaN(x)||Number.isNaN(y)) throw new Error(`Invalid line: "${line}"`); items.push({type,x,y,label:rest.join(" ")||undefined}); } return {items}; }